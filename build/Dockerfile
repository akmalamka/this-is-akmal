FROM node:lts

ARG NEXT_PUBLIC_SANITY_PROJECT_ID_ARG
ENV NEXT_PUBLIC_SANITY_PROJECT_ID=${NEXT_PUBLIC_SANITY_PROJECT_ID_ARG}

ARG NEXT_PUBLIC_SANITY_DATASET_ARG
ENV NEXT_PUBLIC_SANITY_DATASET=${NEXT_PUBLIC_SANITY_DATASET_ARG}

ARG NEXT_PUBLIC_SANITY_API_VERSION_ARG
ENV NEXT_PUBLIC_SANITY_API_VERSION=${NEXT_PUBLIC_SANITY_API_VERSION_ARG}

ARG NEXT_PUBLIC_SANITY_STUDIO_URL_ARG
ENV NEXT_PUBLIC_SANITY_STUDIO_URL=${NEXT_PUBLIC_SANITY_STUDIO_URL_ARG}

ARG SANITY_API_READ_TOKEN_ARG
ENV SANITY_API_READ_TOKEN=${SANITY_API_READ_TOKEN_ARG}

ARG DEPLOY_ENV_ARG
ENV DEPLOY_ENV=${DEPLOY_ENV_ARG}

ENV PNPM_HOME="/pnpm"
ENV PATH="$PNPM_HOME:$PATH"
RUN corepack enable

ENTRYPOINT ["pnpm"]
